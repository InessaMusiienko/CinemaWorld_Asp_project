@model IEnumerable<FilmByGenreViewModel>

<link href="~/css/catalogue.css" rel="stylesheet" type="text/css">

<div class="general-div">
    <section id="moviesSection">
        <hr />
        @foreach (var film in Model)
        {         
            <div class="sub-div">
                <article>
                    <img class="movie__img2"
                         src= @film.ImageUrl>
                    <div class="card-body">   
                        @if(film.Genre == "Thriller")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="FilmByGenre" asp-route-id="@film.Id">
                                <input type="submit" value="Thriller" class="movie__tag--thriller" />
                            </form>
                        }
                        @if(film.Genre == "Fantasy")
                        {
                             <form class="input-group-sm" asp-controller="Film" asp-action="FilmByGenre" asp-route-id="@film.Id">
                                <input type="submit" value="Fantasy" class="movie__tag--fantasy" />
                            </form>
                        }
                        @if(film.Genre == "Animation")
                        {
                             <form class="input-group-sm" asp-controller="Film" asp-action="FilmByGenre" asp-route-id="@film.Id">
                                <input type="submit" value="Animation" class="movie__tag--animation" />
                            </form>
                        }
                        @if(film.Genre == "Comedy")
                        {
                             <form class="input-group-sm" asp-controller="Film" asp-action="FilmByGenre" asp-route-id="@film.Id">
                                <input type="submit" value="Comedy" class="movie__tag--comedy" />
                            </form>
                        }   
                        @if(film.Genre == "Action")
                        {
                             <form class="input-group-sm" asp-controller="Film" asp-action="FilmByGenre" asp-route-id="@film.Id">
                                <input type="submit" value="Action" class="movie__tag--action" />
                            </form>
                        }
                        <h5>@film.Name</h5>
                        <hr />
                        <p>@film.Country, @film.Year</p>
                        <p>@film.Description</p>
                    </div>
                </article>

                @if (User.Identity.IsAuthenticated)
                {
                    @if(film.Genre == "Thriller")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="AddToFavourites" asp-route-id="@film.Id">
                                <input type="submit" value="Add to Favourite" class="addToFavor--thriller" />
                            </form>
                        }
                        @if(film.Genre == "Fantasy")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="AddToFavourites" asp-route-id="@film.Id">
                                <input type="submit" value="Add to Favourite" class="addToFavor--fantasy" />
                            </form>
                        }
                        @if(film.Genre == "Animation")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="AddToFavourites" asp-route-id="@film.Id">
                                <input type="submit" value="Add to Favourite" class="addToFavor--animation" />
                            </form>
                        }
                        @if(film.Genre == "Comedy")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="AddToFavourites" asp-route-id="@film.Id">
                                <input type="submit" value="Add to Favourite" class="addToFavor--comedy" />
                            </form>
                        }   
                        @if(film.Genre == "Action")
                        {
                            <form class="input-group-sm" asp-controller="Film" asp-action="AddToFavourites" asp-route-id="@film.Id">
                                <input type="submit" value="Add to Favourite" class="addToFavor--action" />
                            </form>
                        }                         
                }
            </div>
        }
    </section>
</div>
